#+title: Eclipse TODO
#+STARTUP: overview

* Classes
** DONE ~ENTITY~
Scripted entities, as a MoonScript class.
** DONE [#C] ~EFFECT~
Scripted effects, as a MoonScript class.
** DONE ~WEAPON~
Scripted weapons, as a MoonScript class.
For our purposes we're probably not going to make more than ~hands~.
** TODO ~BGM~
Background music.
For the sake of better organizing our audio tracks.
** DONE [#B] ~FONT~
Easy definition of VGUI fonts using MoonScript classes.
This already exists in ~class-war~ so it should be no effort.
** TODO ~TROUBLES~
Challenges facing the players during the course of a normal round that is not special in some scripted way.
Troubles should affect *everyone* in the round and provide an overarching, connected theme to every character's story.
Examples:
- ~class War extends TROUBLES~ -- maybe
- ~class Winter extends TROUBLES~
- ~class Storm extends TROUBLES~
  - ~class Bloodstorm extends Storm~
* Dev
** DONE [#A] ~ENTITY\create~
Example: ~ENTITY\create "thing/bomb/impact" ply~
** TODO Port Alchemy Utilities
Things like ~util.WhereFrom~, ~plymeta:FacingTowards~ and all.
** TODO Better Net Library
The class we currently use to handle net messages is more confusing than it is useful. Perhaps we ought to consider ~gm_express~ for real this time.
** Tools
*** TODO Model Viewer
**** TODO Sequence Preview
*** TODO Sound Viewer
*** TODO Material Viewer
*** TODO Item Offsetter
*** TODO 3D Particle Effect
*** TODO Matrix Manipulation
* Description
Replace this with a description of what modules in this category are for,
including any important information (like load order constraints).
* Next Playtest
What needs to be done before we feel happy putting out another playtest.
** TODO Character Objects
Characters should have 3 variables to begin with.
*** Name
*** Nationality
- Liverish
- Kidneystani
- Cardian (Pre-Arrhythmian)
*** Adjectives
- How does he look?
- How does he sound?
- How does he smell?
** TODO Round System
A simple round system that starts players in the lobby with a variable countdown, begins the round with some fanfare, and then restarts the server once a chosen condition has been met.
** TODO Ghosts
For now, a mere spectator. Invisible and incorporeal to (most) living players, able to fly.
A few seconds after the pitch blackness of death, players will arise spontaneously as Ghosts.
** TODO Throwing things hurts people
* 'Beta' Release
What needs to be done before we can release the first 'beta' of Liver Failure Forever to players.
** TODO Cooking
** TODO Attributes
** TODO Traits & Skills
** TODO Food Gathering
Basic farming, foraging, and husbandry. We don't need to do all of this at once.
** TODO Mining
** TODO Round Renovation
Implementing phases, antagonists, and a more in-depth lobby.
Just one antagonist for now, Demokrats would probably be the easiest to implement.
** TODO Material Processing
How do we turn chunks of raw metal into weapons and tools?
* Polish
** TODO Fix Timed Bombs
** TODO Improved Guns
- Fix the crosshair.
- Add better sounds and visuals.
  Punchy and loud. 0-100, instant screenjerk and speaker peaking. Real guns do not concede anything in the first few moments.
  - Screen punch.
  - Bright muzzle flashes.
  - Tinnitus.
- Increase damage significantly.
  3 body shots from any gun should leave you dead (or in a future system, gravely wounded)
  A headshot is a guaranteed kill.
- Internal Magazines
  - Guns you can load directly from the ammo box.
** TODO Keybinds Menu
** TODO Control Hints
Appears moderately above the 'held item' boxes, and shows what buttons do what with a certain thing.
** TODO Onomatopoeia
Add text bubbles for things that happen
- Gunshots
- Melee hits
- Doors
- Item interactions
  - Crafting
  - Loading & charging guns
  - Flicking lighters
  - Breaking things
** TODO Gas Bombs
** TODO Remove item ghost when throwing
** TODO Throwing stance visualizes trajectory
** TODO Headstomping
** TODO Uppercuts
** TODO Knocking on doors
** TODO Speaking
*** DONE [#A] Chatter
Instead of a Derma 'chatbox', text entry should be rendered in HUDPaint,
complete with noises for each keystroke.
Like the one we had in Alchemy.
**** TODO Character-based Glyph Detection
At some point, switch to a character-based glyph system, for people with UK or Cyrillic keyboards.
**** TODO TAB Key
ESC should close the chatbox.
TAB should open and close the chatbox.
TAB should ENTER only if the last thing you typed is punctuation or space.
There should be an icon to represent this.
**** TODO Unfriendly and Interactive Fish
There should be autocompletion like ~fish~ has.
**** DONE [#A] Speech
Whenever someone speaks, there should be a 2D bubble that rises from their mouth in 3D space.
***** DONE Sound Accompaniment
Each letter spoken should produce a unique sound for that letter. (like Cruelty Squad)
There should also be speech bubbles with attached character portraits in the top right.
Like the stuff we had in Alchemy.
* Reported bugs
** DONE BUG! [2024-08-27 Tue 16:13]
 Corpses sometimes don't appear on death.
** DONE BUG! [2024-08-27 Tue 16:49]
 Item placement does not put the item on the crosshair, for some reason.
** DONE BUG! [2024-08-27 Tue 16:49]
 The range appears to be far too short on picking up items. Picking up a can at your very feet can produce failure.
** DONE BUG! [2024-09-04 Wed 21:09]
 Tumbling while stance = PRIMED does not drop your held thing. Leads to weird and upredictable behaviour.

** DONE BUG! [2024-09-05 Thu 20:34]
+Whether or not the ~release~ keybind is held down is not made aware to other players. As a result, only the player who is throwing something will see their animation for this.+

+Not the end of the world.+

I didn't change anything but somehow after writing this bug to this document, the intended functionality began working.

-- Amanita
** DONE BUG! [2024-09-05 Thu 20:49]
Holding objects restricts your running.
** DONE BUG! [2024-09-09 Mon 15:00]
 Performing an immobilizing ACT while moving and not holding down a movement key allows you to maintain momentum.
** DONE BUG! [2024-09-12 Thu 22:03]
 Speech while ragdolled doesn't broadcast.
** DONE BUG! [2024-09-12 Thu 22:04]
 Dying sometimes causes a bodygroup-less corpse because it doesn't finish running.
** TODO BUG! [2024-09-12 Thu 22:05]
 Decelerating is not properly predicted.
** DONE BUG! [2024-09-12 Thu 22:05]
 Attacking a door gives it velocity.
** DONE BUG! [2024-09-12 Thu 22:28]
 NO RUNNING ANIMATION
** DONE BUG! [2024-09-12 Thu 23:41]
 Tumbling while holding a body does not drop the body.
** DONE BUG! [2024-09-14 Sat 15:54]
 Bonemerged pieces do not render as they should.
** DONE BUG! [2024-09-14 Sat 16:42]
 Performing an ACT too soon after the last one will not play its animation.

 CAUSE: running ~ply:Spasm~ on both realms.
** TODO BUG! [2024-09-18 Wed 21:54]
 You can pick up things in your offhand. Makes it hard to pick up a second thing.
** DONE BUG! [2024-10-01 Tue 21:42]
 If a player disconnects while tumbled, their corpse will never decay and cannot be exploded.
** TODO BUG! [2024-10-04 Fri 04:59]
 You cannot stand from a crouch when you have things holstered.
* Spontaneous ideas
** IDEA [2024-08-27 Tue 16:14]
Grenades should have a trail that follows them when they fly.
** IDEA [2024-09-06 Fri 18:54]
A person's adjectives can determine small things about their character. (E.g. Dirty characters are less appealing to cannibals)
** IDEA [2024-09-07 Sat 10:58]
A Sanitar Screamer emits an ear-piercing noise and guides the Sanitar Squad to its location.
Uses 'shield_scanner_gib1.mdl'.
** IDEA [2024-09-11 Wed 20:57]
 The Kommandant can enter torpor by crawling into his crypt, letting His puppetmaster safely disconnect from the server without causing the round to be lost. The Kommandant can be revived through a ritual, killing the character and turning their player into the new Kommandant.
** IDEA [2024-09-11 Thu 19:35]
 X drops the current held item, right hand first.
 Z charges the left arm to throw.
 C charges the right arm to throw.
** IDEA [2024-09-13 Fri 00:35]
 You can left click somewhere with a rope in one hand and a body in the other to hang it, like TTT.
** IDEA [2024-09-13 Fri 01:04]
 Terminals are used to control public utilities, such as faucets and vending machines. They can be hacked to disable/enable certain nodes or turn them MALICIOUS!
** IDEA [2024-09-13 Fri 01:17]
 Add a kiss emote. The secret ingredient in some dishes is love!
** IDEA [2024-09-13 Fri 21:24]
 Different characters have different colors of text. Fate and gender may be primary determiners.
** IDEA [2024-09-14 Sat 15:32]
 Randomly-chosen ministers in the overlord caste. The minister of manners.

 kommandant should be able to offer these ministry positions to proles by printing a medal for them. -danku
** IDEA [2024-09-17 Tue 16:21]
PROJ Metalworks
This plan is for the furture to give me (linked) direction.
This is my first draft, I might have to come up with a simpler one.
The most difficult ones implement will be the vat, and potetially the hammer.
Please write down replacement ideas for the vat.
*** Ore crushing
Large ore rocks must be crushed manually with workers and their blunt tools.
It's tiring and slow work.
Likely to wear down durability on scrap tools.
Produces waste rock & breathable dust. ~DANGER~
Rarely ores can have pressure-detonated explosive chemicals in them. ~DANGER~
*** The Grand Smeltery
Fuel and ore/things-for-recycling must be loaded.
Target temperature must be manually set with a crank wheel on the side.
Pull a lever to ignite.
During working, smoke fills the factory, flamable things and people near the smelter may ignite dependant on temperature. ~DANGER~
A color light indicates progression.
Disable and turn a crank on a nearby pipe to let the molten metal spill into the vat.
*** The Vat
Molten metal fills up a cylindrical vat. Anything atop it will burn to nothing in one second.
Workers should have to somehow fish slag out of the vat or the metal they get will count as scrap.
Molds are dipped into the vat with ~USE_PRIMARY~ to fill them up.

Maybe this could be a map object, which would make it easier to use a 3d2d surface.
**** Alternatives
The Smeltery could directly fill the Hammer and have a slot for dispensing ingots of metal for transport or re-smelting.
*** The Hammer
REQUIRES HAMMER LOGIC CONTROLLER
Not a conventional hammer, it appears as a panel inlaid into the floor.
Casts are gently placed into here. (dropping or throwing them may cause them to shatter) ~DANGER~
With the press of a button, a square panel descends from the ceiling and SLAMS into the floor. When it lifts after a few seconds, casts are broken and *HOT* metal products remain.
The hammer deafens everyone nearby when it strikes.
The hammer is prone to automatically striking at random, inopotune intivals. ~DANGER~
Any character or corpse caught under the hammer is reduced to char.
*** Finishing up
*HOT* things do not always start at full durability, and can be smithed with a hammer to repair them. Only freshly-made things can be repaired this way.
Dip them into water to quench the product.
Safely holding *HOT* things requires heavy gloves or other metal tools. ~DANGER~
** IDEA [2024-09-17 Tue 22:40]
 The Foreman's duty is to write a report to the Kommandant for every single industrial accident, how it occured, how it could be avoided, and what will be done to fix it. For refusing to file a report or speaking lies, the penalty is death.
** DONE [2024-09-18 Wed 21:56]
 Automatically generate impact and attack sounds for every thing based on element and size.
** IDEA [2024-09-23 Mon 23:30]
 The Kommandant's mental burdens are eased when one of His subjects cheers, claps, or salutes for Him.
** IDEA [2024-09-26 Thu 02:44]
 Hackers can blow up your computer with zip-bombs.
** IDEA [2024-09-27 Fri 02:05]
Death Town was founded from Kamp Kommandant, which was the Kommandant's failed first attempt at creating a state.

This revolt was led by The Sorcerer, who wrote the source code for all computers.
The

EDIT: Computers are ancient devices. This labor camp was founded by the Kommander, Sotla's first humanoid child.
** IDEA [2024-09-30 Mon 03:56]
BLOOD GHOULS are special ghosts that hunt their own kin. Terrifying creatures.
** IDEA [2024-10-01 Tue 00:37]
 Item descriptions and names are locked behind KNOWLEDGE, acquired by fate, trait, learning, or cheat code.

 A learned eye will see a 9mm Blackheart Pacifier, the ignorant will see a Pistol.
** IDEA [2024-10-02 Wed 02:49]
 The game is a constant procedural musical made from random sounds reacting to in-game events.

 Industrial machinery operates rhythmically, without the input of human hands, and all machines in a factory are synced up to form this rhythm. Terminals can be used to slow down or speed up the facility in its entirety.
** IDEA [2024-10-02 Wed 02:51]
 Livervoice radios contain many valuable resources but are illegal to disassemble.
 They SCREAM loudly when someone attempts to hurt them.
 Made of copper, contains a circuit board and a speaker (for your computer).
** IDEA [2024-10-03 Thu 21:35]
 Mad science is an in-depth field that demands constant research, but can produce incredible results.

 Performing experiments will grant you KNOWLEDGE. Knowledge can either be kept on your person and used throughout the round, or you can send it to Science to be PUBLISHED, where you can use it in the future.
** IDEA [2024-10-03 Thu 22:26]
 You can POCKET items using ~KEY_P~ and then pressing a number key to select a pocket.
** IDEA [2024-10-05 Sat 23:25]
 Middle click with a coin to flip it in the air.
** IDEA [2024-10-14 Mon 00:40]
Different pocketing sounds based on element.
** IDEA [2024-10-14 Mon 22:45]
 You can sleep to slow the march of hunger/thirst, increase your stamina regen, and more advance diseases more quickly.
 During sleep, you may be afflicted with nightmares that sour your mood or give you new traits.
